<!doctype html>

<!-- http://taylor.fausak.me/2015/01/27/ios-8-web-apps/ -->

<html>
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>iOS 8 web app</title>

    <!-- CONFIGURATION -->

    <!-- Allow web app to be run in full-screen mode. -->
    <meta name="apple-mobile-web-app-capable"
          content="yes">

    <!-- Make the app title different than the page title. -->
    <meta name="apple-mobile-web-app-title"
          content="iOS 8 web app">

    <!-- Configure the status bar. -->
    <meta name="apple-mobile-web-app-status-bar-style"
          content="black">

    <!-- Set the viewport. -->
    <meta name="viewport"
          content="initial-scale=1">

    <!-- Disable automatic phone number detection. -->
    <meta name="format-detection"
          content="telephone=no">

    <!-- ICONS -->

    <!-- iPad retina icon -->
    <link href="https://placehold.it/152"
          sizes="152x152"
          rel="apple-touch-icon-precomposed">

    <!-- iPad retina icon (iOS < 7) -->
    <link href="https://placehold.it/144"
          sizes="144x144"
          rel="apple-touch-icon-precomposed">

    <!-- iPad non-retina icon -->
    <link href="https://placehold.it/76"
          sizes="76x76"
          rel="apple-touch-icon-precomposed">

    <!-- iPad non-retina icon (iOS < 7) -->
    <link href="https://placehold.it/72"
          sizes="72x72"
          rel="apple-touch-icon-precomposed">

    <!-- iPhone 6 Plus icon -->
    <link href="https://placehold.it/180"
          sizes="120x120"
          rel="apple-touch-icon-precomposed">

    <!-- iPhone retina icon (iOS < 7) -->
    <link href="https://placehold.it/114"
          sizes="114x114"
          rel="apple-touch-icon-precomposed">

    <!-- iPhone non-retina icon (iOS < 7) -->
    <link href="https://placehold.it/57"
          sizes="57x57"
          rel="apple-touch-icon-precomposed">

    <!-- STARTUP IMAGES -->

    <!-- iPad retina portrait startup image -->
    <link href="https://placehold.it/1536x2008"
          media="(device-width: 768px) and (device-height: 1024px)
                 and (-webkit-device-pixel-ratio: 2)
                 and (orientation: portrait)"
          rel="apple-touch-startup-image">

    <!-- iPad retina landscape startup image -->
    <link href="https://placehold.it/1496x2048"
          media="(device-width: 768px) and (device-height: 1024px)
                 and (-webkit-device-pixel-ratio: 2)
                 and (orientation: landscape)"
          rel="apple-touch-startup-image">

    <!-- iPad non-retina portrait startup image -->
    <link href="https://placehold.it/768x1004"
          media="(device-width: 768px) and (device-height: 1024px)
                 and (-webkit-device-pixel-ratio: 1)
                 and (orientation: portrait)"
          rel="apple-touch-startup-image">

    <!-- iPad non-retina landscape startup image -->
    <link href="https://placehold.it/748x1024"
          media="(device-width: 768px) and (device-height: 1024px)
                 and (-webkit-device-pixel-ratio: 1)
                 and (orientation: landscape)"
          rel="apple-touch-startup-image">

    <!-- iPhone 6 Plus portrait startup image -->
    <link href="https://placehold.it/1242x2148"
          media="(device-width: 414px) and (device-height: 736px)
                 and (-webkit-device-pixel-ratio: 3)
                 and (orientation: portrait)"
          rel="apple-touch-startup-image">

    <!-- iPhone 6 Plus landscape startup image -->
    <link href="https://placehold.it/1182x2208"
          media="(device-width: 414px) and (device-height: 736px)
                 and (-webkit-device-pixel-ratio: 3)
                 and (orientation: landscape)"
          rel="apple-touch-startup-image">

    <!-- iPhone 6 startup image -->
    <link href="https://placehold.it/750x1294"
          media="(device-width: 375px) and (device-height: 667px)
                 and (-webkit-device-pixel-ratio: 2)"
          rel="apple-touch-startup-image">

    <!-- iPhone 5 startup image -->
    <link href="https://placehold.it/640x1096"
          media="(device-width: 320px) and (device-height: 568px)
                 and (-webkit-device-pixel-ratio: 2)"
          rel="apple-touch-startup-image">

    <!-- iPhone < 5 retina startup image -->
    <link href="https://placehold.it/640x920"
          media="(device-width: 320px) and (device-height: 480px)
                 and (-webkit-device-pixel-ratio: 2)"
          rel="apple-touch-startup-image">

    <!-- iPhone < 5 non-retina startup image -->
    <link href="https://placehold.it/320x460"
          media="(device-width: 320px) and (device-height: 480px)
                 and (-webkit-device-pixel-ratio: 1)"
          rel="apple-touch-startup-image">

    <!-- HACKS -->

    <!-- Prevent text size change on orientation change. -->
    <style>
      html {
        -webkit-text-size-adjust: 100%;
      }
      body, div{
        margin: 0;
        padding: 0;
      }
      .device{
        text-align: center;
        margin: 5px;
      }
      .device>select{
        border: none;
        font-size: 20px;
      }
      .btn{
        display: inline-block;
        float: left;
        text-align: center;
        border: 2px solid black;
        margin: 5px;
        padding: 3px;
        width: 28%;
        height: 40px;
        line-height: 40px;
        font-size: 22px;
        font-weight: bold;
      }
      .clear{
        float: none;
      }
    </style>
    <script type="text/javascript">
      function hook_click(){
        var btns = document.getElementsByClassName("btn");
        for (var i = 0; i < btns.length; i++) {
          var btn = btns[i];
          btn.onclick = function(ev){
            var data = this.attributes['data']['nodeValue'];
            console.log(data);
            var xh = new XMLHttpRequest();
            xh.onreadystatechange = function(ev){
              if(this.readyState == 4 && this.status == 200){
                console.log(ev.target.response);
              }
            };
            var e = document.getElementById("deviceSelected");
            var strUser = e.options[e.selectedIndex].value;
            xh.open('GET', document.location.origin+'/ir/sendcode?code=0x'+data+'&device='+strUser);
            xh.send();
          }
        }
      }
    </script>
  </head>

  <body onload="hook_click()">
    <div class="device">
      <select id="deviceSelected"><option value="com3">遥控器</option></select>
    </div>
    <div>
      <div>
        <div class="btn" data="4DB23BC4">开关</div>
        <div class="btn" data="4DB2B14E">设置</div>
        <div class="btn" data="4DB239C6">静音</div>
        <div class="clear"></div>
      </div>
      <div>
        <div class="btn" data="4DB211EE">首页</div>
        <div class="btn" data="4DB253AC">上</div>
        <div class="btn" data="4DB2A956">播放</div>
      </div>
      <div>
        <div class="btn" data="4DB29966">左</div>
        <div class="btn" data="4DB2738C">OK</div>
        <div class="btn" data="4DB2837C">右</div>
        <div class="clear"></div>
      </div>
      <div>
        <div class="btn" data="4DB2A35C">返回</div>
        <div class="btn" data="4DB24BB4">下</div>
        <div class="btn" data="4DB259A6">菜单</div>
        <div class="clear"></div>
      </div>
      <div>
        <div class="btn" data="4DB201FE">音量+</div>
        <div class="btn" data="4DB2BB44">上页</div>
        <div class="btn" data="4DB2A15E">频道+</div>
        <div class="clear"></div>
      </div>
      <div>
        <div class="btn" data="4DB2817E">音量-</div>
        <div class="btn" data="4DB231CE">下页</div>
        <div class="btn" data="4DB2619E">频道-</div>
        <div class="clear"></div>
      </div>
      <div>
        <div class="btn" data="4DB249B6">1</div>
        <div class="btn" data="4DB2C936">2</div>
        <div class="btn" data="4DB233CC">3</div>
        <div class="clear"></div>
      </div>
      <div>
        <div class="btn" data="4DB2718E">4</div>
        <div class="btn" data="4DB2F10E">5</div>
        <div class="btn" data="4DB213EC">6</div>
        <div class="clear"></div>
      </div>
      <div>
        <div class="btn" data="4DB251AE">7</div>
        <div class="btn" data="4DB2D12E">8</div>
        <div class="btn" data="4DB223DC">9</div>
        <div class="clear"></div>
      </div>
      <div>
        <div class="btn" data="4DB25BA4">删除</div>
        <div class="btn" data="4DB2E11E">0</div>
        <div class="btn" data="4DB20BF4">#</div>
        <div class="clear"></div>
      </div>
    </div>
  </body>
</html>